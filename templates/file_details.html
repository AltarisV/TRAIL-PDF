<!DOCTYPE html>
<html lang="en">
  <head>
    <title>File Details</title>
    <style lang="scss">
      @import url("https://fonts.googleapis.com/css2?family=Montserrat&display=swap");
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Montserrat", sans-serif;
        color: white;
      }
      .form-container {
        width: 100vw;
        height: 100vh;
        background-color: #f7fff7;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .upload-files-container {
        background-color: #191f19;
        width: 420px;
        padding: 30px 60px;
        border-radius: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        box-shadow: rgba(0, 0, 0, 0.24) 0px 10px 20px,
          rgba(0, 0, 0, 0.28) 0px 6px 6px;
      }
      .upload-files-container form{
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }
      .upload-button {
        font-family: "Montserrat";
        background-color: #7b2cbf;
        color: #f7fff7;
        display: flex;
        align-items: center;
        font-size: 18px;
        border: none;
        border-radius: 20px;
        margin: 10px;
        padding: 7.5px 50px;
        cursor: pointer;
      }
      .upload-button a {
        color: #f7fff7;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
  <div class="form-container">
      <div class="upload-files-container">
          <form
                  enctype="multipart/form-data"
                  action="{{ url_for('convert_pdf', filename=filename) }}"
                  method="post"
                  id="conversionForm"
          >
              <h3>Details for {{ filename }}</h3>
              <p>This PDF has {{ page_count }} pages.</p>

              <!-- Language selection dropdown -->
              <label for="language">Choose a language for conversion:</label>
              <select name="language" id="language">
                  <option value="english">English</option>
                  <option value="german">German</option>
                  <!-- Add other languages as needed -->
              </select>

              <!-- Input for number of pages (optional) -->
              <label for="num_pages">Enter number of pages to convert (optional):</label>
              <input type="number" name="num_pages" id="num_pages" min="1" max="{{ page_count }}">

              <!-- Button to convert the full document -->
              <input
                      class="upload-button"
                      type="submit"
                      value="Convert Full Document"
              />

              <!-- Button to convert specified number of pages -->
              <button type="button" class="upload-button" onclick="submitPartialConversion()">
                  Convert Specified Pages
              </button>

              <button class="upload-button">
                  <a href="{{ url_for('index') }}">Back to file list</a>
              </button>
          </form>
      </div>
  </div>

  <script>
      function submitPartialConversion() {
          var form = document.getElementById('conversionForm');
          form.action = "{{ url_for('convert_pdf_n_pages', filename=filename) }}";
          form.submit();
      }
  </script>
  </body>
</html>
